## 아이템 14

### Comparable 을 구현할지 고려하라.

Comparable 이터페이스의 유일무이한 메서드인 compareTo 를 알아보자.

이번 장에서 다룬 다른 메서드들과는 달리 compareTo 는 Object 의 메서드가 아니다. 

성경은 두 가지만 빼면 Object의 equals 와 같다. 그렇다면 무엇이 다른가?



### compareTo 의 일반 규약

`compareTo()` 메서드는 `Comparable` 인터페이스를 구현하는 클래스에서 구현됩니다.
이 메서드는 두 객체 간의 순서를 비교하는 데 사용됩니다. 
`compareTo()` 메서드의 일반적인 규약은 다음과 같습니다:


1. **대칭성 (Symmetry)**: `x.compareTo(y)`의 결과가 양수이면 `y.compareTo(x)`의 결과는 음수이어야 합니다.
반대로, `x.compareTo(y)`의 결과가 음수이면 `y.compareTo(x)`의 결과는 양수이어야 합니다.
또한, `x.compareTo(y)`와 `y.compareTo(z)`의 부호가 같아야 합니다.


2. **추이성 (Transitivity)**: `x.compareTo(y)`와 `y.compareTo(z)`가 같은 부호일 때, 
`x.compareTo(z)`는 같은 부호이어야 합니다. 즉, 만약 `x.compareTo(y)`가 0 이거나 양수이고,
`y.compareTo(z)`도 0 이거나 양수이면, `x.compareTo(z)`도 0 이거나 양수이어야 합니다.


3. **자기 반사성 (Self-consistency)**: 모든 객체 `x`에 대해서 `x.compareTo(x)`는 항상 0을 반환해야 합니다.


4. **일관성 (Consistency)**: 만약 `x.compareTo(y)`에서 0이 아닌 결과가 반환되면, 
두 객체 간의 비교 결과는 객체가 변경되지 않는 한 항상 일관성이 있어야 합니다.


5. **null 처리**: `x.compareTo(null)`은 `NullPointerException`을 던져야 합니다. 
일부 클래스에서는 `null`을 허용하지 않는 경우도 있으므로 이 규약은 선택적입니다.

---
### Comparable 을 구현할지 고려해야하는 이유

`compareTo()` 메서드의 구현은 주로 객체의 특정 필드를 기준으로 비교합니다.
이 메서드의 규약을 잘 따르면, `Comparable` 인터페이스를 구현한 클래스는 자연 순서로 정렬되는데 도움이 됩니다.
예를 들어, 정수나 문자열 같은 클래스들은 이미 `Comparable` 인터페이스를 구현하여 기본적으로 자연 순서로 정렬됩니다.


이펙티브 자바에서 `Comparable`을 구현할지 고려해야 하는 이유는 다음과 같습니다:

1. **자연 순서로 정렬**: `Comparable`을 구현한 클래스는 자연 순서(natural order)로 정렬할 수 있습니다. 
이는 정렬이 자연스럽고 직관적으로 이루어지며, 코드를 읽고 유지보수하는 데 도움이 됩니다.


2. **표준 라이브러리와의 호환성**: 자바의 표준 라이브러리는 많은 클래스에서 `Comparable` 인터페이스를 사용하여 정렬을 지원합니다. 예를 들어, 배열의 정렬 메서드나 `Collections.sort()` 메서드 등이 있습니다. 따라서 클래스가 `Comparable`을 구현하면 이러한 표준 라이브러리와의 호환성이 높아지며, 코드를 더욱 쉽게 사용할 수 있습니다.


3. **코드의 명확성**: `Comparable`을 구현한 클래스는 정렬이 가능하다는 의미를 명시적으로 전달합니다. 
이는 코드의 의도를 명확하게 하고, 다른 개발자들이 해당 클래스를 사용할 때에도 예상한대로 동작할 수 있도록 합니다.


4. **디폴트 정렬 순서 제공**: `Comparable`을 구현한 클래스는 디폴트 정렬 순서를 제공합니다.
따라서 정렬이 필요한 경우 별도의 정렬 기준을 제공하지 않아도 됩니다.
이는 특히 컬렉션을 사용하는 경우에 유용합니다.


5. **정렬 알고리즘의 효율성**: `Comparable`을 구현한 클래스는 정렬 알고리즘이 객체의 비교 메서드를 사용하여 정렬을 수행할 수 있습니다. 
이는 정렬 알고리즘이 객체를 비교하는 비용을 최소화하여 효율적인 정렬을 가능하게 합니다.


따라서 클래스가 정렬 가능하고 자연 순서로 정렬될 수 있다면,
`Comparable` 인터페이스를 구현하여 이점을 얻을 수 있습니다. 
이는 코드의 가독성과 유지보수성을 높이며, 표준 라이브러리와의 호환성을 유지하는 데 도움이 됩니다.